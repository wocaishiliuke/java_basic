# 面向对象
相对于面向过程而言

- 一切皆对象。属性和功能都封装在对象中，只需要调用相应对象即可完成对应的功能
- 不断地创建、使用对象
- **3大特征：封装、继承、多态**

## 1.概念
- 成员变量-属性：描述事物的信息（名词），**类中、方法外**
- 成员方法-行为：描述事物的功能（动词）
- 类-事物：一组相关属性和行为的集合
- 对象：事物的具体体现
- 示例：
```
类：Student
对象：Student zhangsan = new Student();
属性：sex，age
方法：study()，eat()
```

```
class Student {
    int age;
    String sex;
    
    public void study() {
        
    }
    public void eat() {
        
    }
}
```

#### 2.定义与使用
类名 对象名 = new 类名();

- 对象名是合法标识符
- 对象.属性；对象.方法(...)
- 内存加载顺序

> - 编译后生成字节码在硬盘，java命令执行，class文件代码加载到内存，进入方法区。
> - jvm调用main()进栈，一般main()在栈底
> - new出来的引用数据类型（数组、对象）都在堆内存，栈中的变量指向这些引用数据的地址
> - 如果没有任何引用指向该对象，就会成为垃圾，一般不会立刻清理，交由Java的GC处理机制

#### 3.成员变量和局部变量的区别
- 类中的位置
    + 成员变量：类中，方法外
    + 局部变量：方法上或方法内
- 内存中的位置
    + 成员变量：堆内存（属于对象，对象在堆内存）
    + 局部变量：栈内存（属于方法，方法进栈内存）
- 生命周期
    + 成员变量：随对象创建而存在，随对象的消失而消失
    + 局部变量：随方法的调用而存在，随方法的弹栈而消失
- 初始化
    + 成员变量：有默认初始化值
    + 局部变量：没有默认初始化值，必须定义&赋值后才能使用

方法中的变量，就近原则

#### 4.匿名对象
- 匿名对象可以调用属性/方法，但只适合单次调用，节省代码，**调用后就变成垃圾**
- 尤其是给多个属性赋值时，不能使用匿名对象，相当于创建了多个对象
- 一般用做实参传递

#### 5.封装
隐藏对象的属性和实现细节，对外仅提供公共的访问方式(如setter/getter)
- 好处：提高代码复用性、安全性
- 原则：把不需要对外的内容，以及属性都私有，对外提供访问方式即可
**不能直接访问就是封装。而private只是封装的一种形式，不能说private就是封装。如不同包下也不能访问，也是种封装**

#### 6.private
一个权限修饰符，可修饰成员变量和成员方法，被修饰的成员变量/方法只能在**本类**中访问

- 直接访问
```
class Student {
    int age;//没有私有
}
//在另一个类中可以直接访问
public class HelloWorld {
    public static void main(String[] args) {
        Student s = new Student();
        s.age = 18;
    }
}
```

- 封装
```
class Student {
    private int age;//私有

    public int getAge() {
        return age;
    }
    public void setAge(int age) {
        this.age = age;
    }
}

//在另一个类中不可以直接访问
public class HelloWorld {
    public static void main(String[] args) {
        Student s = new Student();
        //不可以
        //s.age = 18;
        //可以
        s.setAge(18);
    }
}
```

#### 7.this
**代表当前对象的引用，常用来区分成员变量和局部变量**

```
public static void main(String[] args) {
    Student s2 = new Student();
    s2.setAge(18);
    Student s1 = new Student();
    s1.setAge(18);
}

class Student {
    private int age;//私有

    public int getAge() {
        //**这相当于return this.age;省略后系统会自动加上this**
        return age;
    }
    public void setAge(int age) {
        //**这里不加this，两个age都是形参局部变量，自己给自己赋值，没意义**
        age = age;
    }
}

class Student {
    private int age;//私有

    public int getAge() {
        //**这相当于return this.age;省略后系统会自动加上this**
        return age;
    }
    public void setAge(int age) {
        //**被main()中调用时，s1调用时this=s1，s2调用时this=s2，代表当前对象的引用**
        this.age = age;
    }
}
```